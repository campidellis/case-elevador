version: '3.8'

services:
  elevador:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: case-elevador
    volumes:
      - .:/var/www/html
    working_dir: /var/www/html
    command: sh -c "cp .env.example .env 2>/dev/null || true && php artisan key:generate --force && php artisan elevador:demonstrar"
    environment:
      - APP_ENV=local
    networks:
      - elevador-network

networks:
  elevador-network:
    driver: bridge
